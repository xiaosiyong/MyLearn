进入Terminal终端：

1、快捷键： Ctrl+Alt+T

2、点击Dash Home 输入Te

root用户切换到普通用户：su - username

普通用户切换到root用户：su -

切换到root用户，然后启动 启用，禁用防火墙

systemctl start/enable/status/stop/disable/ firewalld

systemctl mask/unmask firewalld

VIM

定位到目录  vim 文件名   进入编辑模式

输入 i  进入编辑模式 可以输入，输入完成之后按esc  退出编辑 Shift+：，然后wq  保存

cat 文件名 打开文件、

1， cat :由第一行开始显示文件内容；

2，tac：从最后一行开始显示，可以看出tac与cat字母顺序相反；

3，nl:显示的时候输出行号；

4，mv  xxx 目的地址

mv xxx ~/.Trash  y移到回收站

查看端口：

netstat -an | grep 3306

lsof -i tcp:portnet

ps aux | grep nsq

brew services start /stop   servicename

![permission](../images/clipboard.png)

当为[ d ]则是目录

当为[ - ]则是文件；

若是[ l ]则表示为链接文档(link file)；

若是[ b ]则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；

若是[ c ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。

读   写  执行  对应  4,2,1

systemctl is-active application.service

 安装完Tomcat后

开放8080端口给外边访问

iptables -I INPUT -p tcp --dport 80 -j ACCEPT

增加端口后重启一下系统

firewall-cmd --list-ports

查看已经开放的端口



ifconfig 网卡名称 down/up 关闭 启用网卡

ifconfig 网卡名称 192.x.x.x netmask x.x.x.x 设置IP  立即生效

nslookup 查询网址解析情况  exit退出

也可用dig 查询（Linux）

刷新dns： windows:ipconfig /flushdns

Linux：sudo /etc/init.d/nscd restart

#### VIM

##### 退出vim的快捷键，不需要进入命令编辑模式

按住shift

zz    保存退出

zq    不保存退出，q表示放弃

之所以按住shift，其实是切换大小写

#####  在命令编辑模式下：

:q 不保存退出

:q! 不保存强制退出

:wq 保存退出，w表示写入，不论是否修改，都会更改时间戳

:x     保存退出，如果内容未改，不会更改时间戳

:w !sudo tee % > /dev/null

##### :x" 和 ":wq" 的区别如下：

(1) :wq 强制性写入文件并退出（存盘并退出 write and quite）。即使文件没有被修改也强制写入，并更新文件的修改时间。

(2) :x 写入文件并退出。仅当文件被修改时才写入，并更新文件修改时间；否则不会更新文件修改时间。

rm  -参数 文件   参数R表示递归删除   -rf表示强制递归删除

tail -f xxxxx.log|grep "find"        只输出符合过滤条件的

\# tail -n20 /var/log/mail/info |head -n1  tail 重后往前 默认10条 

tail -n20 /var/log/mail/info |tee results.txt |head -n1

想要选择最后 20 行，将其保存到 results.txt，但是只在屏幕上显示这 20 行中的第一行

##### Mongo相关

命令行MongoDB：

rs.status()

show

mongo

show dbs

use dbname

db.createColldection("name")

db.collection.insert("xxxxx")

db.getCollectionNames();获取所有的Collection

db.getMongo();

然后：

db.getMongo().setSlaveOk();

Mongo 备份与还原：进入到mongo安装目录:

mongodump/mongorestore   -h 127.0.0.1:27017 -d push -o /home/xiaosiyong/mongo

 mongo --host=192.168.0.104

db.getMongo().setSlaveOk()

then show dbs

{age: {$gt: 22}}查询大于22的   排序  .sort({age:1/-1}) 顺序或者倒叙

使文件可执行：chmod +x filename

#### 查看系统配置

**1、查看CPU**

1）top 后输入1

2）cat /proc/cpuinfo|grep processor

**2、查看内存**

1）top

2）free或free -h

3）head /proc/meminfo

1、查看所有的用户信息cat /etc/passwd

2、查看所有的用户信息cat /etc/passwd|grep 用户名 查找某个用户

3、cat  /etc/group 查看所有组信息  

4、cat /etc/group|grep 组名

查看Linux内核版本命令：

cat     /proc/version

uname  -a

cat /etc/issue

**3、用户和组常用命令**

groups 查看当前登录用户的组内成员

groups test 查看test用户所在的组,以及组内成员

whoami 查看当前登录用户名

**4、环境变量**

环境变量：

/etc/profile       /etc/bashrc

 ~/.bash_profile文件 ~/.bashrc

**5、重启命令：**

1、reboot

2、shutdown -r now 立刻重启(root用户使用)

3、shutdown -r 10 过10分钟自动重启(root用户使用) 

4、shutdown -r 20:35 在时间为20:35时候重启(root用户使用)

如果是通过shutdown命令设置重启的话，可以用shutdown -c命令取消重启

**6、关机命令：**

1、halt   立刻关机

2、poweroff  立刻关机

3、shutdown -h now 立刻关机(root用户使用)

4、shutdown -h 10 10分钟后自动关机

如果是通过shutdown命令设置关机的话，可以用shutdown -c命令取消重启

mkdir -p xxx/{xx,xx}  建多层目录

df -h 查看磁盘各分区大小、已用空间等信息

du -sh foo 查看foo目录的大小

sudo yum install lrzsz

查看zookeeper 版本：echo stat|nc localhost 2181 

grep -C  10  --color=auto "DH2018121320217453-109853450"  flie   符合条件的前、后10行

grep -B  10   前10行

grep -A  10   后10行

cd ~/.ssh/ 查看rsa 公钥及私钥

**:%s/foo/bar/g** 全文替换

**:s/foo/bar/g 单行替换**

command >out.file 2>&1 &



**Close与Shutdown的区别**

close-----关闭本进程的socket id，但链接还是开着的，用这个socket id的其它进程还能用这个链接，能读或写这个socket id

shutdown--则破坏了socket 链接，读的时候可能侦探到EOF结束符，写的时候可能会收到一个SIGPIPE信号，这个信号可能直到

socket buffer被填充了才收到，shutdown还有一个关闭方式的参数，0 不能再读，1不能再写，2 读写都不能。

所有数据操作结束以后可以调用Close，从而停止在该socket上的所有操作。

SHutdown可以允许只停止某个方向上的数据传输，如终止读或者终止写。

使用close中止一个连接，但它只是减少描述符的参考数，并不直接关闭连接，只有当描述符的参考数为0时才关闭连接。

shutdown可直接关闭描述符，不考虑描述符的参考数，可选择中止一个方向的连接。

注意:

​    1>. 如果有多个进程共享一个套接字，close每被调用一次，计数减1，直到计数为0时，也就是所用进程都调用了close，套

接字将被释放。

​    2>. 在多进程中如果一个进程中shutdown(sfd, SHUT_RDWR)后其它的进程将无法进行通信. 如果一个进程close(sfd)将不会

影响到其它进程